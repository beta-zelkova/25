document.addEventListener("DOMContentLoaded", function () {
    fetch('batting_data.json')
        .then(response => response.json())
        .then(data => {
            const player = data.find(player => player["打者"] === "安部剛");
            if (player) {
                delete player["打者"]; 
                const stats = Object.entries(player);
                let tableHTML = "<table><tr><th colspan='4'>安部剛の成績</th></tr>";
                
                for (let i = 0; i < stats.length; i += 2) {
                    tableHTML += "<tr>";
                    for (let j = 0; j < 2; j++) {
                        if (i + j < stats.length) {
                            let key = stats[i + j][0];
                            let value = stats[i + j][1];

                            // 順位データがある場合、丸数字を追加
                            if (data[0][`${key}順位`]) {
                                value += ` (${data.find(p => p["打者"] === "安部剛")[`${key}順位`]})`;
                            }

                            tableHTML += `<td>${key}</td><td>${value}</td>`;
                        }
                    }
                    tableHTML += "</tr>";
                }
                
                tableHTML += "</table>";
                document.getElementById("stats").innerHTML = tableHTML;
            } else {
                document.getElementById("stats").innerHTML = "<p>データが見つかりません</p>";
            }
        })
        .catch(error => console.error("データの読み込みに失敗しました", error));
});

